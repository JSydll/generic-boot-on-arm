header:
  version: 14
  includes:
    - conf/includes/base.yml

machine: verdin-imx8mp

target:
  - core-image-minimal

defaults:
  repos:
    branch: master

repos:
  bitbake:
    branch: "2.14"
  
  meta-freescale:
    url: https://github.com/Freescale/meta-freescale.git
    path: layers/meta-freescale

  meta-freescale-3rdparty:
    url: https://github.com/Freescale/meta-freescale-3rdparty.git
    path: layers/meta-freescale-3rdparty

  meta-toradex-nxp:
    url: https://git.toradex.com/cgit/meta-toradex-nxp.git
    path: layers/meta-toradex-nxp

  meta-toradex-bsp-common:
    url: https://git.toradex.com/cgit/meta-toradex-bsp-common.git
    path: layers/meta-toradex-bsp-common

  #meta-toradex-security:
  #  url: https://github.com/toradex/meta-toradex-security.git
  #  path: layers/meta-toradex-security
  #  branch: scarthgap-7.x.y

local_conf_header:
  imx-bsp: |
    ACCEPT_FSL_EULA = "1"

  toradex: |
    MACHINEOVERRIDES =. "mainline:use-mainline-bsp:"

    # Security related features provided by Toradex
    #MACHINE_FEATURES:append = " optee stmm "

    # Remove contents defined in the machine.conf
    IMAGE_FSTYPES:remove = "teziimg"
    IMAGE_BOOT_FILES = ""
    WKS_FILE_DEPENDS:remove = " u-boot-default-script"